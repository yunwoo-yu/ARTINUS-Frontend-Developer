import{j as e,W as r}from"./index-BJ8K1HY1.js";import{L as a,b as i}from"./vendor-BmWF8GLt.js";import{c as l,f as c,a as n,B as o,S as m,u as d,P as x,h as g,C as u}from"./http-C6agtsZq.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],f=l("move-right",h),j=({product:s})=>e.jsx("li",{className:"w-full border-b bg-white border-gray-300 hover:bg-gray-200 cursor-pointer group",children:e.jsxs(a,{to:r.detail(String(s.id)),className:"p-4 grid grid-cols-[auto_1fr_auto] sm:grid-cols-[auto_1fr_auto] gap-4 items-center h-full",children:[e.jsx("div",{className:"size-24 sm:size-32 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.thumbnail,alt:s.title,loading:"lazy",className:"size-full object-cover"})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("p",{className:"text-lg sm:text-xl mb-2 truncate",children:s.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[e.jsxs("span",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:[c(s.price,s.discountPercentage),"$"]}),e.jsxs("span",{className:"text-sm sm:text-lg text-gray-500 line-through",children:[n(s.price),"$"]}),e.jsxs(o,{variant:"destructive",children:[s.discountPercentage,"% Discount"]})]}),e.jsx("div",{className:"mt-auto",children:e.jsx(m,{rating:s.rating})})]}),e.jsx("div",{className:"flex items-center justify-center p-2 sm:px-6 sm:py-4 border-l border-gray-300 h-full",children:e.jsx(f,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:text-red-500"})})]})}),p=async s=>await g.get("/products",{params:s}),b=({limit:s=20,skip:t=0})=>d({queryKey:x.list([{limit:s,skip:t}]),queryFn:()=>p({limit:s,skip:t})}),y=()=>{const{data:s}=b({limit:20,skip:0});return e.jsx("ul",{className:"border-t border-gray-300",children:s.products.map(t=>e.jsx(j,{product:t},t.id))})},_=()=>e.jsx(i.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(y,{})});export{_ as default};
